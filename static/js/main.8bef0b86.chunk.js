(this["webpackJsonprepl-web"]=this["webpackJsonprepl-web"]||[]).push([[0],{12:function(e,t,a){e.exports={authBox:"auth_authBox__3yBlL",errorBox:"auth_errorBox__F2N97",errorMessage:"auth_errorMessage__3EKy8",dismissErrBut:"auth_dismissErrBut__2SB4d",authInput:"auth_authInput__3DYzG",authInputButton:"auth_authInputButton__YARY6"}},15:function(e,t,a){e.exports={navBar:"header_navBar__3LQgT",navHeader:"header_navHeader__3Gmmf",navItem:"header_navItem__2ic-T"}},19:function(e,t,a){e.exports={largeHeader:"global_largeHeader__1_Ztm",smallHeader:"global_smallHeader__3CEcH",smallHeaderV2:"global_smallHeaderV2__1uxQw"}},2:function(e,t,a){e.exports={container:"recipe_container__31xZp",p:"recipe_p__2UZi5",h3:"recipe_h3__7F9TE",searchContainer:"recipe_searchContainer__2FEZ7",searchInput:"recipe_searchInput__23xeg",searchBtn:"recipe_searchBtn__WyjCB",mealListContainer:"recipe_mealListContainer__14Rho",iDiv:"recipe_iDiv__YOqTO",information:"recipe_information__1ixkJ",informationT:"recipe_informationT__12A26",informationTM:"recipe_informationTM__1pbgp",mealFocusContainer:"recipe_mealFocusContainer__2F_Af",card:"recipe_card__3jabG",nextBtn:"recipe_nextBtn__3kXJE",funcBtn:"recipe_funcBtn__30BBU",mealSummaryCard:"recipe_mealSummaryCard__4Za6F",divider:"recipe_divider__29Imf",dividerContain:"recipe_dividerContain__3nhK1",blackBackground:"recipe_blackBackground__1Ydz4"}},39:function(e,t,a){},40:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),s=a.n(c),r=a(31),i=a.n(r),o=(a(39),a(5)),l=a(13),j=a(3),d=a(9),u=(a(40),a(11)),h=a.n(u),b=Object(c.createContext)();function m(){return Object(c.useContext)(b)}var O=function(e){var t=Object(c.useState)(e),a=Object(o.a)(t,2),n=a[0],s=a[1];return{value:n,setValue:s,reset:function(){return s("")},bind:{value:n,onChange:function(e){s(e.target.value)}}}},p=a(19),x=a.n(p),_=a(12),f=a.n(_);var v=function(){var e=O(""),t=e.value,a=e.bind,s=e.reset,r=O(""),i=r.value,l=r.bind,u=r.reset,b=Object(c.useState)(!1),p=Object(o.a)(b,2),_=p[0],v=p[1],g=Object(c.useState)(!1),N=Object(o.a)(g,2),I=N[0],B=N[1],C=m().setAuthTokens,y=Object(c.useState)(""),k=Object(o.a)(y,2),M=k[0],S=k[1];return _?Object(n.jsx)(j.a,{to:"/"}):Object(n.jsx)("div",{className:"App",children:Object(n.jsx)("div",{className:"App-container",children:Object(n.jsx)("header",{className:"App-header",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("p",{className:x.a.largeHeader,children:" Welcome to my recipe! "}),Object(n.jsx)("p",{className:x.a.smallHeaderV2,children:"please login below"}),Object(n.jsxs)("div",{className:f.a.authBox,children:[I?Object(n.jsx)("div",{className:f.a.errorBox,children:Object(n.jsxs)("p",{className:f.a.errorMessage,children:[M,Object(n.jsx)("button",{className:f.a.dismissErrBut,onClick:function(){B(!1),S("")},children:"X"})]})}):Object(n.jsx)(n.Fragment,{}),Object(n.jsx)("input",Object(d.a)(Object(d.a)({type:"text",name:"text"},a),{},{className:f.a.authInput,placeholder:"email"})),Object(n.jsx)("input",Object(d.a)(Object(d.a)({type:"password",name:"password"},l),{},{className:f.a.authInput,placeholder:"password"})),Object(n.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),h.a.post("http://localhost:8080/users/authenticate",{username:t,password:i}).then((function(e){200===e.status?(C(e.data.token),v(!0)):B(!0)})).catch((function(e){S("Server maintinance, Please try again later."),B(!0)})),s(),u()},className:f.a.authInputButton,children:"Login"}),Object(n.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),h.a.post("http://localhost:8080/users/register",{username:t,password:i}).then((function(e){200===e.status?(C(e.data.token),v(!0)):B(!0)})).catch((function(e){S("Server maintinance, Please try again later."),B(!0)})),s(),u()},className:f.a.authInputButton,children:"Sign Up"})]})]})})})})},g=a(15),N=a.n(g);var I=function(){var e=m().setAuthTokens,t=Object(c.useState)(!1),a=Object(o.a)(t,2),s=a[0],r=a[1];return s?Object(n.jsx)(j.a,{to:"/auth"}):Object(n.jsxs)("div",{className:N.a.navBar,children:[Object(n.jsx)("p",{className:N.a.navHeader,children:"My Recipe"}),Object(n.jsx)(l.b,{to:"/",className:N.a.navItem,children:"Discover"}),Object(n.jsx)(l.b,{to:"/my-recipes",className:N.a.navItem,children:"My Recipies"}),Object(n.jsx)("button",{onClick:function(){e(""),r(!0)},className:N.a.navItem,children:"Logout"})]})},B=a(2),C=a.n(B);var y=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(),i=Object(o.a)(r,2),l=i[0],j=i[1],u=O(""),b=u.value,m=u.bind;function p(){var e=localStorage.getItem("tokens");e=e.slice(1,-1);var t={headers:{Authorization:"Bearer ".concat(e)}},n=[],c=1,s=[],r=1,i=a[0];Object.keys(a[0]).forEach((function(e,t){e==="strMeasure"+c&""!==a[0][e]&&(n[c-1]=a[0][e],c++),e==="strIngredient"+r&""!==a[0][e]&&(s[r-1]=a[0][e],r++)})),Object.assign(i,{Ingredients:s}),Object.assign(i,{IngredientMeasurements:n}),h.a.post("http://localhost:8080/api/Meal-db-save",i,t).then((function(e){alert("Meal has been saved!")})).catch((function(e){console.log(e)}))}return u.reset,Object(c.useEffect)((function(){}),[a]),Object(c.useEffect)((function(){h.a.get("https://www.themealdb.com/api/json/v1/1/search.php?f=b").then((function(e){200===e.status&&j(e.data.meals)})).catch((function(e){}))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(I,{}),Object(n.jsxs)("div",{className:C.a.searchContainer,children:[Object(n.jsx)("input",Object(d.a)(Object(d.a)({type:"text",name:"search",placeholder:"search"},m),{},{className:C.a.searchInput})),Object(n.jsx)("button",{type:"submit",className:C.a.searchBtn,onClick:function(){h.a.get("https://www.themealdb.com/api/json/v1/1/search.php?",{params:{s:b}}).then((function(e){200===e.status&&j(e.data.meals)})).catch((function(e){}))},children:"Search"})]}),Object(n.jsx)("div",{className:C.a.mealListContainer,children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Meal"}),Object(n.jsx)("th",{children:"catagory"})]})}),Object(n.jsx)("tbody",{children:l?l.map((function(e,t){return[Object(n.jsxs)("tr",{onClick:function(){s([e])},children:[Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:e.strMeal})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:e.strCategory})})]},t)]})):Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:"No Recipes where found!"})})})]})}),Object(n.jsx)("div",{className:C.a.mealFocusContainer,children:a?a.map((function(e,t){return[Object(n.jsxs)("form",{children:[Object(n.jsx)("img",{src:e.strMealThumb,width:"100%",name:"img",id:"id",alt:e.strMeal}),Object(n.jsx)("h2",{className:C.a.information,children:e.strMeal}),Object(n.jsxs)("p",{className:C.a.information,children:["Catagory: ",e.strCategory]}),Object(n.jsx)("h3",{className:C.a.information,children:"Ingredients and mesurements:"}),Object(n.jsx)("div",{className:C.a.information,children:Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[e.strIngredient1," - ",e.strMeasure1]}),Object(n.jsxs)("li",{children:[e.strIngredient2," - ",e.strMeasure2]}),Object(n.jsxs)("li",{children:[e.strIngredient3," - ",e.strMeasure3]}),Object(n.jsxs)("li",{children:[e.strIngredient4," - ",e.strMeasure4]}),Object(n.jsxs)("li",{children:[e.strIngredient5," - ",e.strMeasure5]}),Object(n.jsxs)("li",{children:[e.strIngredient6," - ",e.strMeasure6]}),Object(n.jsxs)("li",{children:[e.strIngredient7," - ",e.strMeasure7]}),Object(n.jsxs)("li",{children:[e.strIngredient8," - ",e.strMeasure8]})]})}),Object(n.jsx)("h3",{className:C.a.information,children:"Instructions"}),Object(n.jsx)("p",{className:C.a.information,children:e.strInstructions}),Object(n.jsx)("button",{type:"button",onClick:p,className:C.a.funcBtn,children:"Save"})]},e.idMeal)]})):Object(n.jsx)("div",{className:C.a.iDiv,children:Object(n.jsx)("h1",{children:"Please select a meal to display!"})})})]})};var k=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(),i=Object(o.a)(r,2),l=i[0],j=i[1];return Object(c.useEffect)((function(){!function(){var e=localStorage.getItem("tokens");e=e.slice(1,-1);var t={headers:{Authorization:"Bearer ".concat(e)}};h.a.get("http://localhost:8080/api/GetUserRecipes",t).then((function(e){200===e.status&&j(e.data)})).catch((function(e){}))}()}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(I,{}),Object(n.jsx)("div",{className:C.a.blackBackground,children:l?l.map((function(e,t){return[Object(n.jsx)("div",{className:C.a.mealSummaryCard,onClick:function(){s([e])},children:Object(n.jsx)("img",{src:e.meal_img_url,width:"200px",name:"img",id:"id",alt:e.strMeal})},t)]})):Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:"You have no meals saved!"})})}),Object(n.jsx)("div",{className:C.a.divider,children:a?a.map((function(e,t){return[Object(n.jsx)("form",{children:Object(n.jsxs)("div",{className:C.a.dividerContain,children:[Object(n.jsx)("h2",{className:C.a.information,children:e.meal_name}),Object(n.jsxs)("p",{className:C.a.information,children:["Catagory: ",e.food_catagory]}),Object(n.jsxs)("div",{className:C.a.informationT,children:[Object(n.jsxs)("div",{className:C.a.informationTM,children:[Object(n.jsx)("h3",{children:"Ingredients: "}),e.ingredient.map((function(e){return[Object(n.jsx)("ul",{children:Object(n.jsx)("li",{children:e})})]}))]}),Object(n.jsxs)("div",{className:C.a.informationTM,children:[Object(n.jsx)("h3",{children:"Measurements: "}),e.ingredient_measurements.map((function(e){return[Object(n.jsx)("ul",{children:Object(n.jsx)("li",{children:e})})]}))]})]}),Object(n.jsx)("h3",{className:C.a.information,children:"Instructions"}),Object(n.jsx)("p",{className:C.a.information,children:e.instructions})]})},e.meal_name)]})):Object(n.jsx)("div",{className:C.a.iDiv,children:Object(n.jsx)("h1",{children:"Please select a meal to display!"})})})]})},M=a(33);var S=function(e){var t=e.component,a=Object(M.a)(e,["component"]),c=m().authTokens;return Object(n.jsx)(j.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return c?Object(n.jsx)(t,Object(d.a)({},e)):Object(n.jsx)(j.a,{to:"/auth"})}}))};var w=function(){var e=JSON.parse(localStorage.getItem("tokens")),t=Object(c.useState)(e),a=Object(o.a)(t,2),s=a[0],r=a[1];return Object(n.jsx)(b.Provider,{value:{authTokens:s,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),r(e)}},children:Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(S,{exact:!0,path:"/",component:y}),Object(n.jsx)(S,{path:"/my-recipes",component:k}),Object(n.jsx)(j.b,{path:"/auth",component:v})]})})})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root")),T()}},[[63,1,2]]]);
//# sourceMappingURL=main.8bef0b86.chunk.js.map